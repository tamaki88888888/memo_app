{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/koutamakin/development/tamaki/memo_app/components/AddressAdd.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport react, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport firebase from 'firebase';\nimport Lib from '../static/address_lib';\nimport Account from '../components/Account';\n\nclass AddressAdd extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"style\", {\n      fontSize: '12pt',\n      padding: '5px 10px'\n    });\n\n    if (this.props.login == false) {\n      Router.push('/address');\n    }\n\n    this.state = {\n      name: '',\n      email: '',\n      tel: '',\n      memo: '',\n      message: 'データを入力してください'\n    };\n    this.logined = this.logined.bind(this);\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangeEmail = this.onChangeTel.bind(this);\n    this.OnChangeMemo = this.doAction.bind(this);\n  } //login,logout 処理\n\n\n  logined() {\n    console.log('logined');\n  }\n\n  logouted() {\n    console.log('logouted');\n  } //フィールド入力処理\n\n\n  onChangeName(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangeTel() {\n    this.setState({\n      tel: e.target.value\n    });\n  }\n\n  onChangeMemo() {\n    this.setState({\n      memo: e.target.value\n    });\n  } //データの登録処理\n\n\n  doAction(e) {\n    let key = this.state.email;\n    let data = {\n      name: this.state.name,\n      tel: this.state.tel,\n      memo: this.state.memo\n    };\n    let db = firebase.database();\n    let ref = db.ref('address/' + Lib.encodeEmail(this.props.email) + \"/\" + Lib.encodeEmail(this.state.email));\n    console.log(ref);\n    ref.set(data);\n    this.setState({\n      name: '',\n      email: '',\n      tel: '',\n      memo: '',\n      message: '登録しました'\n    });\n  } //レンダリング\n\n\n  render() {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, __jsx(Account, {\n      self: this,\n      onLogined: this.logined,\n      onLogouted: this.logouted,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.message), this.props.login ? __jsx(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, __jsx(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"name:\"), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"30\",\n      value: this.props.name,\n      onChange: this.onChangeName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }))), __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"email:\"), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"30\",\n      value: this.state.email,\n      onChange: this.onChangeEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }))), __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"tel:\"), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"30\",\n      value: this.state.tel,\n      onChange: this.onChangeTel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }))), __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"memo:\"), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      size: \"30\",\n      value: this.state.memo,\n      onChange: this.onChangeMemo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }))), __jsx(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, __jsx(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, __jsx(\"button\", {\n      onClick: this.doAction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Add\"))))) : __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"please login...\"));\n  }\n\n}\n\nAddressAdd = connect(state => state)(AddressAdd);\nexport default AddressAdd;","map":{"version":3,"sources":["/Users/koutamakin/development/tamaki/memo_app/components/AddressAdd.js"],"names":["react","Component","connect","Router","firebase","Lib","Account","AddressAdd","constructor","props","fontSize","padding","login","push","state","name","email","tel","memo","message","logined","bind","onChangeName","onChangeEmail","onChangeTel","OnChangeMemo","doAction","console","log","logouted","e","setState","target","value","onChangeMemo","key","data","db","database","ref","encodeEmail","set","render"],"mappings":"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","sourcesContent":["import react, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport firebase from 'firebase';\nimport Lib from '../static/address_lib';\nimport Account from '../components/Account';\n\nclass AddressAdd extends Component {\n\tstyle = {\n\t\tfontSize:'12pt',\n\t\tpadding:'5px 10px'\n\t}\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tif(this.props.login == false){\n\t\t\tRouter.push('/address');\n\t\t}\n\t\tthis.state = {\n\t\t\tname:'',\n\t\t\temail:'',\n\t\t\ttel:'',\n\t\t\tmemo:'',\n\t\t\tmessage:'データを入力してください'\n\t\t}\n\t\tthis.logined = this.logined.bind(this);\n\t\tthis.onChangeName = this.onChangeName.bind(this);\n\t\tthis.onChangeEmail = this.onChangeTel.bind(this);\n\t\tthis.OnChangeMemo = this.doAction.bind(this);\n\t}\n\t\n\t//login,logout 処理\n\tlogined(){\n\t\tconsole.log('logined');\n\t}\n\tlogouted(){\n\t\tconsole.log('logouted');\n\t}\n\n\t//フィールド入力処理\n\tonChangeName(e){\n\t\tthis.setState({name:e.target.value});\n\t}\n\tonChangeEmail(e){\n\t\tthis.setState({email:e.target.value});\n\t}\n\tonChangeTel(){\n\t\tthis.setState({tel:e.target.value});\n\t}\n\tonChangeMemo(){\n\t\tthis.setState({memo:e.target.value});\n\t}\n\n\t//データの登録処理\n\tdoAction(e){\n\t\tlet key = this.state.email;\n\t\tlet data = {\n\t\t\tname:this.state.name,\n\t\t\ttel:this.state.tel,\n\t\t\tmemo:this.state.memo\n\t\t}\n\t\tlet db = firebase.database();\n\t\tlet ref = db.ref('address/'\n\t\t\t+ Lib.encodeEmail(this.props.email) + \"/\"\n\t\t\t+ Lib.encodeEmail(this.state.email));\n\t\tconsole.log(ref);\n\t\tref.set(data);\n\t\tthis.setState({\n\t\t\tname:'',\n\t\t\temail:'',\n\t\t\ttel:'',\n\t\t\tmemo:'',\n\t\t\tmessage:'登録しました'\n\t\t})\n\t}\n\n\t//レンダリング\n\trender(){\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Account self={this} onLogined={this.logined} onLogouted={this.logouted} />\n\t\t\t<hr />\n\t\t\t<p>{this.state.message}</p>\n\t\t\t{this.props.login\n\t\t\t?\n\t\t\t<table>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>name:</th>\n\t\t\t\t\t\t<td><input type='text' size='30' value={this.props.name} onChange={this.onChangeName}/></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>email:</th>\n\t\t\t\t\t\t<td><input type='text' size='30' value={this.state.email} onChange={this.onChangeEmail}/></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>tel:</th>\n\t\t\t\t\t\t<td><input type='text' size='30' value={this.state.tel} onChange={this.onChangeTel}/></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>memo:</th>\n\t\t\t\t\t\t<td><input type='text' size='30' value={this.state.memo} onChange={this.onChangeMemo}/></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t<td><button onClick={this.doAction}>Add</button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t\t:\t\t\t\t\n\t\t\t<p>please login...</p>\n\t\t\t}\n\t\t</div>\n\t\t);\n\t}\n}\n\nAddressAdd = connect((state)=> state) (AddressAdd);\nexport default AddressAdd;\t\t\t\t\t\n\t\t\t\t\t\t\t\n"]},"metadata":{},"sourceType":"module"}